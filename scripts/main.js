var _a, _b;
var canvas = (_a = document.getElementById("canvas")) !== null && _a !== void 0 ? _a : new HTMLCanvasElement;
var ctx = (_b = canvas.getContext("2d")) !== null && _b !== void 0 ? _b : new CanvasRenderingContext2D();
var figuresArray = [];
var w = canvas.width = window.innerWidth;
var h = canvas.height = window.innerHeight;
var planeYCoordinate = 40;
var img = new Image(); // Create new img element
img.src = ("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3C!-- Created with Inkscape (http://www.inkscape.org/) --%3E%3Csvg width='210mm' height='297mm' viewBox='0 0 210 297' version='1.1' id='svg415' inkscape:version='1.2 (dc2aedaf03, 2022-05-15)' sodipodi:docname='drawing.svg' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Csodipodi:namedview id='namedview417' pagecolor='%23505050' bordercolor='%23eeeeee' borderopacity='1' inkscape:showpageshadow='0' inkscape:pageopacity='0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23505050' inkscape:document-units='mm' showgrid='false' inkscape:zoom='0.51276154' inkscape:cx='273.0314' inkscape:cy='385.16929' inkscape:window-width='1920' inkscape:window-height='1001' inkscape:window-x='-9' inkscape:window-y='-9' inkscape:window-maximized='1' inkscape:current-layer='layer1' /%3E%3Cdefs id='defs412' /%3E%3Cg inkscape:label='Layer 1' inkscape:groupmode='layer' id='layer1'%3E%3Cg id='g611'%3E%3Cpath d='m 88.134276,49.795745 c -0.798924,6.17082 37.346234,65.045495 35.255814,119.380165 -0.50589,13.28111 -2.93579,26.48203 -6.39744,39.07177 -1.09166,-1.83808 -2.68935,-3.93486 -5.09263,-6.31151 -4.38039,-4.33425 -14.579105,-10.1783 -21.628879,-15.67742 0.09319,-1.3449 0.199695,-2.48255 0.399385,-2.65652 10.118844,-8.84096 -13.527241,-26.73467 -15.524319,-26.85418 -1.085153,1.23143 3.728057,12.94072 4.16738,14.70466 1.744139,6.93026 5.55873,11.145 8.873938,12.55646 0.259602,0.11195 0.439326,0.51134 0.572453,1.06504 -2.569536,-1.84414 -11.297033,-6.73057 -18.812905,-12.72287 -0.592424,-3.79418 -3.514902,-12.22818 -6.437379,-13.94524 -0.465948,-0.27987 -8.620992,-12.87567 -13.533897,-19.61985 -1.843986,-2.51582 -3.228673,-4.21927 -3.59478,-4.1527 -0.945362,1.80328 8.740661,44.87497 22.447626,39.45602 4.233947,3.90763 8.860623,7.50967 13.500615,10.98464 -1.650951,0.24507 -3.321867,0.4251 -3.681314,-0.0878 -2.090423,-2.94244 -7.016639,-5.77748 -14.159603,-6.00441 -1.817509,-0.053 -11.936199,-6.68366 -12.914846,-5.36448 0.539171,1.9228 20.716798,25.64241 27.20092,13.87263 0.199695,-0.3525 2.676191,-0.97881 4.666618,-1.5915 1.950485,1.45231 3.894319,2.88345 5.804867,4.30702 0.06657,0.54613 0.159903,0.92585 0.313001,0.99241 0.106505,-0.0606 0.193039,-0.2602 0.266258,-0.5658 3.128828,2.33732 6.15781,4.65345 8.98029,7.02255 -1.970457,0.97274 -6.11106,3.76845 -6.836765,3.10885 -2.596312,-2.34186 -8.241423,-3.32066 -15.950335,-0.45839 -1.957295,0.72465 -13.6404,-2.19057 -14.525859,-0.3071 0.81224,1.89103 25.35694,19.30669 30.91552,3.48253 0.233127,-0.66564 5.199279,-3.8683 6.863539,-5.42651 7.016491,5.95902 12.621821,12.24936 14.838561,19.83164 -10.41822,32.32002 -26.51516,59.32247 -32.200207,70.87138 -1.877267,3.8214 5.691703,3.10886 5.691703,3.10886 2.523093,-0.45233 13.467334,-14.23871 22.867124,-37.97799 9.26002,-23.40646 16.46304,-47.34542 18.9527,-71.57636 v 0 -0.008 c 0.33948,-3.29494 0.58592,-6.58381 0.74567,-9.88632 0.53917,-3.01506 1.35806,-5.89699 2.40312,-8.67303 2.66288,-0.31315 6.33754,-0.98636 6.83692,-0.73977 15.01859,7.47034 25.73697,-19.76508 24.9972,-21.68183 -1.95004,-0.73221 -13.55342,7.136 -15.46412,7.97562 -7.52329,3.32822 -10.88448,7.96806 -11.11096,11.45664 -0.0465,0.70497 -2.62943,1.36456 -4.83953,1.93036 5.75161,-14.27957 17.64184,-25.66964 29.53719,-37.81158 2.43716,1.02418 5.65949,2.19662 5.95145,2.63534 9.26759,13.98003 28.79818,-8.91962 29.1189,-10.95741 -1.32525,-1.60359 -11.93621,4.08767 -14.00727,3.86073 -8.18136,-0.885 -13.40666,1.45233 -15.35065,4.35392 -0.37972,0.57336 -2.78965,-0.0802 -4.93938,-0.68531 4.92577,-5.04679 9.83186,-10.23881 14.27957,-15.83778 2.14217,-0.12556 5.69731,-0.73826 6.07703,-0.43266 10.54439,8.33567 19.9451,-21.355067 19.69851,-23.339894 -1.41146,-0.838106 -8.17532,9.20101 -9.81976,9.952886 -6.50364,2.981777 -9.94532,7.502108 -10.73048,11.023968 -0.1664,0.74582 -2.52339,1.298 -4.42047,1.77152 1.98331,-2.55063 3.87435,-5.18597 5.61863,-7.936291 1.56427,-2.462879 2.80327,-4.665558 3.76089,-6.630718 10.77133,-5.272202 9.69268,-41.791834 8.45518,-43.170017 -0.37366,0.01969 -1.29799,2.010548 -2.46287,4.906096 -3.11643,7.742646 -7.92873,21.95414 -8.31601,22.333858 -2.68829,2.662575 -3.33428,13.455081 -2.64896,16.223552 -1.4508,2.515829 -3.12852,5.146639 -5.02561,7.60195 -3.06196,3.98176 -6.56415,7.72904 -9.88633,11.01187 -0.32676,-1.73068 -0.61873,-3.56271 -0.0863,-3.96209 2.86831,-2.18302 5.53845,-7.20257 5.52484,-14.352191 0,-1.810853 1.79119,-14.346135 0.44024,-15.278035 -1.91071,0.606644 -20.44434,23.752886 -8.46881,29.843536 0.36005,0.18607 1.06503,2.61719 1.73824,4.58083 -5.46584,5.32515 -10.28571,9.30691 -11.60943,10.87722 -2.57029,3.03624 -5.6731,6.17083 -8.80163,9.24036 -0.2254,-1.21178 -0.29954,-2.18301 0.053,-2.40389 2.96968,-1.84413 5.46584,-6.99682 4.8471,-15.19786 -0.16037,-2.08316 1.29195,-16.029911 -0.27383,-17.402041 -2.04231,0.26021 -20.97579,22.568341 -7.30241,32.280701 0.3071,0.2133 0.9319,1.92431 1.61116,3.7745 -5.1126,4.99989 -10.14532,9.80008 -12.89458,13.73343 -1.07849,1.55822 -1.99724,3.02263 -2.78285,4.41443 -1.10499,-14.08729 -4.14727,-28.23373 -9.62613,-42.39984 C 113.43781,91.734322 103.79838,62.775797 88.134276,49.795745 v 0' style='fill:%238a8f27;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path16' /%3E%3Cpath d='M 54.562536,42.732357 C 25.317934,56.352336 9.0812215,106.77938 23.946557,111.92602 c 3.588125,1.24506 15.624322,-8.38106 22.288022,-23.886019 7.868664,-18.32033 10.065437,-43.263815 8.327957,-45.307644 v 0' style='fill:%23ffe4bd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path18' /%3E%3Cpath d='m 61.752243,45.727753 c -3.348639,9.359859 -6.896823,10.651813 -10.990838,25.430614 -4.32048,15.583626 -11.543468,46.212313 2.56954,49.135093 26.714851,5.53846 13.806811,-67.14378 8.421298,-74.565707 v 0' style='fill:%23fff3cf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path20' /%3E%3Cpath d='m 67.716864,46.886579 c -5.338915,19.164488 8.70087,51.71144 16.17015,61.789891 9.22673,12.45661 24.411576,11.09809 15.863795,-9.798581 C 93.166993,82.793516 76.570832,57.777418 74.38737,55.986232 69.827257,52.245011 71.278513,47.664172 67.716864,46.886579 v 0' style='fill:%23ffe4bd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path22' /%3E%3Cpath d='M 79.027362,45.627907 C 87.821271,63.088952 133.32921,76.755825 125.27417,96.986859 115.91431,120.4871 69.407901,51.61265 79.027362,45.627907 v 0' style='fill:%23fff3cf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path24' /%3E%3Cpath d='m 101.86121,25.036827 c 22.2213,-23.3852732 75.19793,-22.707525 75.34466,-6.975641 0.0333,3.794166 -12.92861,12.135892 -29.73763,13.514075 -19.87749,1.623264 -44.2225,-4.241962 -45.60703,-6.538434 v 0' style='fill:%23ffe4bd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path26' /%3E%3Cpath d='m 102.41369,32.806706 c 9.93897,-0.193644 12.289,-3.149709 27.60032,-2.317652 16.15017,0.872901 47.48536,3.774499 45.76073,18.087353 -3.26166,27.081105 -68.0421,-8.300881 -73.36105,-15.769701 v 0' style='fill:%23fff3cf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path28' /%3E%3Cpath d='m 101.60811,38.824724 c 19.86477,1.045366 46.24741,24.724127 53.42275,35.015884 8.86063,12.715311 2.73671,26.668112 -14.34568,11.908972 C 127.5375,74.392791 109.11067,50.6868 108.11206,48.051456 c -2.09694,-5.51879 -6.90334,-5.606534 -6.50395,-9.226732 v 0' style='fill:%23ffe4bd;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path30' /%3E%3Cpath d='m 88.653476,44.202823 c 12.315614,-0.685308 45.281464,12.41577 45.467854,27.460828 0.13993,11.217608 -42.765036,-12.688074 -47.185367,-26.276285 -0.06657,-0.205741 1.417974,-1.170927 1.717513,-1.184543 v 0' style='fill:%23fff3cf;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path32' /%3E%3Cpath d='M 49.030431,54.235891 C 47.585835,31.720494 52.49889,23.086791 61.772063,16.276049 80.704934,2.3837636 100.85594,6.8571882 116.20053,22.648074 117.3055,49.54159 56.439803,62.663847 49.030431,54.235891 v 0' style='fill:%23f5c747;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path34' /%3E%3Cpath d='m 64.002272,43.4449 c 2.476496,1.41752 7.163081,-0.606644 4.753148,-4.900044 -3.608092,-6.431028 -8.840502,2.576341 -4.753148,4.900044 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path36' /%3E%3Cpath d='m 54.848761,36.880745 c 1.744139,0.9909 5.026065,-0.426616 3.335177,-3.441679 -2.529749,-4.514275 -6.197748,1.803289 -3.335177,3.441679 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path38' /%3E%3Cpath d='m 64.028899,28.765944 c 1.73748,0.990903 5.026211,-0.426617 3.335173,-3.441679 -2.529594,-4.508224 -6.204403,1.809339 -3.335173,3.441679 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path40' /%3E%3Cpath d='m 73.874675,28.599535 c 1.73763,-0.992417 5.026216,0.425102 3.335327,3.441678 -2.529748,4.512761 -6.204403,-1.804803 -3.335327,-3.441678 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path42' /%3E%3Cpath d='m 77.416353,41.659764 c 1.73748,-0.998464 5.026061,0.426616 3.335178,3.435627 -2.536404,4.512762 -6.204404,-1.804802 -3.335178,-3.435627 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path44' /%3E%3Cpath d='m 56.805906,46.413066 c 1.74429,-0.992413 5.026216,0.426616 3.335328,3.441679 -2.529749,4.506711 -6.197898,-1.810854 -3.335328,-3.441679 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path46' /%3E%3Cpath d='m 86.56971,17.881157 c 1.744289,-0.992413 5.032871,0.425106 3.341984,3.435628 -2.536405,4.512761 -6.204403,-1.804803 -3.341984,-3.435628 v 0' style='fill:%23dfab57;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.0151283' id='path48' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A");
setSize();
addEventListener("resize", function () { return setSize(); });
var Figure = /** @class */ (function () {
    function Figure(newX, newY, scale) {
        this.size = 10;
        this.size = this.size * scale;
        this.y = newY - Math.floor((this.size) / 2);
        this.x = newX - Math.floor((this.size) / 2);
        this.color = "white";
    }
    Figure.prototype.draw = function () {
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.rect(this.x, this.y, this.size, this.size);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();
        // ctx.drawImage(img, this.x, this.y, this.size * img.width / img.width, this.size * img.height / img.width);
    };
    Figure.prototype.update = function () {
    };
    return Figure;
}());
function setSize() {
    h = canvas.height = innerHeight;
    w = canvas.width = innerWidth;
    ctx.globalCompositeOperation = 'destination-over';
    // Now draw!
    // ctx.fillStyle = "#87CEEB"
    // ctx.fillRect(0, 0, canvas.width, canvas.height / 3)
    // ctx.fillStyle = "#42f56f"
    // ctx.fillRect(0, 0, canvas.width, canvas.height)
}
function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    figuresArray.forEach(function (figure) {
        figure.update();
        figure.draw();
    });
    var grd = ctx.createLinearGradient(0, 0, 0, 200);
    grd.addColorStop(0, "#8ad0f2");
    grd.addColorStop(1, "#e5f0f2");
    ctx.fillStyle = grd;
    // ctx.fillRect(10, 10, 150, 80);
    // ctx.fillStyle = "#87CEEB"
    ctx.fillRect(0, 0, canvas.width, canvas.height / 3);
    ctx.fillStyle = "#9ab843";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    requestAnimationFrame(animate);
}
document.addEventListener("click", function (e) {
    var scale = (e.y - (h / 3)) / planeYCoordinate > 0 ? (e.y - (h / 3)) / planeYCoordinate : 0;
    var x = e.x;
    var y = e.y;
    figuresArray.push(new Figure(x, y, scale));
    figuresArray.sort(function (figA, figB) { return figB.y - figA.y; });
    animate();
});
animate();
